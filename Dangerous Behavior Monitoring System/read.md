# 危险行为监控系统

## 项目介绍
这是一个基于Web的危险行为监控系统，用于管理和展示通过阿里云OSS存储的危险行为数据。系统提供直观的界面，展示各路段的危险行为记录，并支持查看详细信息和证据图片。

## 系统架构
- **前端**：HTML/CSS/JavaScript
- **后端**：Node.js + Express
- **存储**：阿里云OSS

## 数据存储结构
系统使用阿里云OSS存储危险行为数据，数据结构如下：

```
data/
├── [路段名1]/
│   ├── [时间戳_危险行为类型1].txt  # 文本文件，包含危险行为信息
│   └── [图片文件名1.jpg]          # 图片文件，危险行为的图片证据
├── [路段名2]/
│   ├── [时间戳_危险行为类型2].txt
│   └── [图片文件名2.jpg]
...
```

## 功能特性

### 1. 记录展示
- 系统以卡片形式展示各路段的危险行为记录
- 每个记录卡片显示路段名称和时间戳范围

### 2. 详情查看
- 点击记录卡片可展开显示危险行为类型
- 点击危险行为类型可查看对应的图片证据

### 3. 图片导航
- 支持在多张证据图片间切换浏览
- 提供图片计数器显示当前查看的图片位置

## 主要文件说明

- **index.html**：系统主页面，提供文件管理功能
- **danger-monitor.html**：危险行为监控页面，展示危险行为记录
- **server.js**：后端服务器代码，处理OSS交互和API请求
- **package.json**：项目依赖配置文件

## 启动方法

1. 安装依赖：
   ```bash
   npm install
   ```

2. 启动服务器：
   ```bash
   node server.js
   ```

3. 访问系统：
   - 危险行为监控页面：`http://localhost:3006/danger-monitor.html`
   - 文件管理页面：`http://localhost:3006/`

## API接口

- `/danger-records`：获取所有危险行为记录
- `/list`：获取OSS文件列表
- `/view`：查看OSS文件内容
- `/download`：下载OSS文件
- `/upload`：上传文件到OSS
- `/delete`：删除OSS文件
- `/create-folder`：在OSS创建文件夹

## 注意事项

- 系统使用阿里云OSS进行数据存储，请确保配置的AccessKey和Secret正确
- 危险行为数据应按照指定的文件夹结构组织
- 图片文件应与对应的文本文件一起存储在相应路段的文件夹中
